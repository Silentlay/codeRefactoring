# Эта программа собирает данные с различных датчиков (температуры, влажности, давления) и сохраняет их в хранилище. Главная сложность в том, что разные датчики имеют разные интерфейсы, и необходимо унифицировать их работу в системе.

**Изменено:**
-
*1.Разделение обязанностей (SRP):*
-
- Создан новый класс **DateTimeConverter** для обработки преобразований времени.
- Логика работы с временем была выделена из адаптера **AdapterST500Info**, чтобы он фокусировался исключительно на адаптации данных.

**Это улучшает читаемость и упрощает тестирование.**
-
*2. Унификация интерфейсов (ISP, LSP):*
-
- Интерфейс **MeteoSensor** изменён: методы **getHumidity** и **getPressure** теперь возвращают **Optional<Float>.**

*У некоторых сенсоров (например, ST500) эти данные отсутствуют. Использование Optional позволяет явно указывать на отсутствие данных, избегая дефолтных значений, которые могут быть неверно интерпретированы.*
-

*3. Инверсия зависимости (DIP):*
-
- Введён интерфейс **SensorStore**, который определяет общий контракт для хранилищ.
- Реализация **MeteoStoreImpl** теперь следует этому контракту.

*Это позволяет в будущем заменить реализацию хранилища (например, на базу данных вместо консольного вывода) без изменения остального кода.*

*4. Создание фабрики (OCP):*
-
- Добавлена фабрика **MeteoSensorFactory** для создания объектов датчиков.

*Фабрика изолирует логику создания сенсоров. Если потребуется добавить новые типы датчиков, достаточно изменить только фабрику, не затрагивая основной код.*
-
**5. Использование адаптера (Adapter Pattern):**
-
- Класс AdapterST500Info адаптирует интерфейс SensorTemperature к интерфейсу MeteoSensor.

*Это позволяет интегрировать ST500 (с несовместимым интерфейсом) в систему без изменения его исходного кода.*
-
**6. Улучшение обработки данных:**
-
- В классе **MeteoStoreImpl** улучшена обработка вывода данных (например, использование Optional.orElse(null) для опциональных значений).

*Это позволяет избежать ошибок при работе с отсутствующими данными.*
-
**7. Унификация работы с сенсорами:**
-
- Класс **Main** теперь использует фабрику **MeteoSensorFactory** для создания сенсоров.

*Это делает код более гибким и упрощает добавление новых типов сенсоров.*
-

**Цели изменений:**
-
- Повышение читаемости кода: Выделение отдельных задач в независимые классы (например, DateTimeConverter) улучшает структуру программы.
- Расширяемость: Использование интерфейсов (MeteoSensor, SensorStore) и фабрики (MeteoSensorFactory) позволяет легко добавлять новые типы сенсоров и хранилищ.
- Улучшение тестируемости: Каждый компонент имеет чёткую ответственность, что упрощает создание модульных тестов.
- Снижение количества ошибок: Использование Optional для отсутствующих данных минимизирует возможность ошибок.
- Соответствие принципам SOLID: Код стал более модульным.

*Программа теперь легко расширяется, поддерживает разные типы сенсоров, корректно обрабатывает отсутствующие данные и разделяет задачи между классами.*
-